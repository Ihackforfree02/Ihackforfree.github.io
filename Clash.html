<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Clash Royale Deck Builder</title>
<style>
  body { font-family: sans-serif; background: #2c5364; color: white; text-align: center; padding: 20px; }
  select, button { padding: 10px; font-size: 1rem; margin: 10px; }
  #card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px,1fr)); gap: 10px; margin-top: 20px; }
  .card { background: rgba(0,0,0,0.6); padding: 5px; border-radius: 8px; cursor: pointer; transition: transform 0.2s; }
  .card.selected { border: 2px solid #00ffea; }
  .card img { width: 100%; border-radius: 4px; }
  .card .info { margin-top: 5px; font-size: 0.9rem; }
</style>
</head>
<body>
<h1>Clash Royale Deck Builder</h1>
<select id="arena-select">
  <option value="0">Training Camp</option>
  <option value="1">Goblin Stadium</option>
  <option value="2">Bone Pit</option>
  <option value="3">Barbarian Bowl</option>
  <option value="4">Spell Valley</option>
  <option value="5">Builder’s Workshop</option>
  <option value="6">P.E.K.K.A’s Playhouse</option>
  <!-- Add arenas 7–23 similarly -->
</select>

<div id="card-grid"></div>

<h2>Your Deck: <span id="count">0</span>/8</h2>
<ul id="deck-list"></ul>

<script>
// Arena unlock data
const cardsByArena = {
  0: ["Knight","Archers","Minions","Arrows","Musketeer","Mini P.E.K.K.A","Fireball","Giant"],
  1: ["Goblins","Spear Goblins","Goblin Cage","Goblin Hut"],
  2: ["Skeletons","Bomber","Tombstone","Valkyrie"],
  3: ["Cannon","Barbarians","Mega Minion","Battle Ram"],
  4: ["Electro Spirit","Skeleton Dragons","Fire Spirit","Bomb Tower","Inferno Tower","Wizard"],
  5: ["Zap","Bats","Rocket","Flying Machine","Hog Rider","Mortar"],
  6: ["Goblin Barrel","Guards","Skeleton Army","Baby Dragon","Witch","P.E.K.K.A"]
  // Continue for arenas 7-23...
};

// Minimal dummy data for image & cost (should map to real image links)
const cardData = {};
Object.values(cardsByArena).flat().forEach(name => {
  cardData[name] = {
    image: `https://static.wikia.nocookie.net/clashroyale/images/${name.replace(/ /g,'')}Card.png`,
    cost: Math.floor(Math.random()*8)+1
  };
});

const selected = new Set();
const grid = document.getElementById("card-grid");
const count = document.getElementById("count");
const deckList = document.getElementById("deck-list");
const arenaSelect = document.getElementById("arena-select");

arenaSelect.addEventListener("change", updateGrid);
function updateGrid(){
  const arena = +arenaSelect.value;
  const available = new Set();
  for(let i=0;i<=arena;i++) if(cardsByArena[i]) cardsByArena[i].forEach(c=>available.add(c));
  grid.innerHTML = "";
  available.forEach(name => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `<img src="${cardData[name]?.image}" alt="${name}"><div class="info">${name} (${cardData[name]?.cost} Elixir)</div>`;
    div.onclick = () => toggleCard(name, div);
    grid.append(div);
  });
  refreshDeck();  
}

function toggleCard(name, el){
  if(selected.has(name)) { selected.delete(name); el.classList.remove("selected"); }
  else if(selected.size < 8) { selected.add(name); el.classList.add("selected"); }
  refreshDeck();
}

function refreshDeck(){
  count.textContent = selected.size;
  deckList.innerHTML = Array.from(selected).map(c => `<li>${c}</li>`).join('');
}

// Initial grid
updateGrid();
</script>
</body>
</html>
