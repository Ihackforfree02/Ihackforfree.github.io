<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Clash Royale Deck Builder</title>
  <style>
    body, html { margin:0;padding:0;font-family:'Segoe UI',sans-serif;
      background:linear-gradient(to right,#0f2027,#203a43,#2c5364);
      color:#fff;text-align:center;padding:30px; }
    .container { background:rgba(0,0,0,0.6); border-radius:12px;
      max-width:900px;margin:auto;padding:30px; }
    h1 { font-size:2.8rem;color:#f0db4f;text-shadow:0 0 10px #f0db4f,0 0 20px #f0db4f;margin-bottom:20px;}
    input, select { padding:12px;font-size:1.1rem;margin:10px 5px;
      border-radius:6px;border:2px solid #00ffff;background:rgba(0,0,0,0.8);
      color:#00ffff;width:250px; }
    #card-grid { display:grid;
      grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
      gap:12px;margin-top:20px; }
    .card { background:rgba(0,0,0,0.5);padding:8px;border-radius:8px;
      cursor:pointer;transition:transform .2s,box-shadow .2s; }
    .card:hover { transform:scale(1.05);box-shadow:0 0 10px #00ffff; }
    .card.selected { border:2px solid #00ffff; }
    .card img { width:100%; height:auto; object-fit:contain; }
    .info { font-size:.85rem;color:#00ffff;margin-top:6px; }
    #deck-footer { margin-top:20px;font-size:1.1rem;color:#00ffea; }
    #deck-list { list-style:none;padding:0;margin-top:10px;color:#00ffff;
      text-align:left;display:inline-block;}
  </style>
</head>
<body>
  <div class="container">
    <h1>Clash Royale Deck Builder</h1>
    <select id="arena-select">
      <!-- All arenas 0–23 as before -->
      <option value="0">Training Camp</option>
      <!-- ... -->
      <option value="23">Legendary Arena</option>
    </select>
    <input type="text" id="search" placeholder="Search cards…" />
    <div id="card-grid"></div>
    <div>Deck: <span id="count">0</span>/8</div>
    <ul id="deck-list"></ul>
    <div id="deck-footer">Avg Elixir: 0 | Rating: N/A</div>
  </div>

<script>
  const allCards = {
    "Knight":4, "Knight Evolution":4,
    "Royal Giant":6, "Royal Giant Evolution":6,
    "Barbarians":5, "Barbarians Evolution":5,
    "Mega Knight":7, "Mega Knight Evolution":7,
    "Skeletons":1, "Skeletons Evolution":1,
    "Zap":2, "Zap Evolution":2
    // ...add more cards here
  };

  const selected = new Set();
  const searchInput = document.getElementById('search');
  const grid = document.getElementById('card-grid');
  const count = document.getElementById('count');
  const dl = document.getElementById('deck-list');
  const footer = document.getElementById('deck-footer');

  function refreshGrid() {
    const term = searchInput.value.toLowerCase();
    grid.innerHTML = '';
    for (const [name, cost] of Object.entries(allCards)) {
      if (!name.toLowerCase().includes(term)) continue;
      const cardDiv = document.createElement('div');
      cardDiv.className = 'card' + (selected.has(name) ? ' selected' : '');
      const imgName = name.replace(/ /g, '') + 'Card' + (name.includes('Evolution') ? 'Evolution' : '') + '.png';
      const imgUrl = `https://static.wikia.nocookie.net/clashroyale/images/${imgName}`;
      cardDiv.innerHTML = `
        <img src="${imgUrl}" alt="${name}" onerror="this.style.opacity=.5"/>
        <div class="info">${name} (${cost} Elixir)</div>`;
      cardDiv.onclick = () => toggleCard(name, cost, cardDiv);
      grid.append(cardDiv);
    }
    updateFooter();
  }

  function toggleCard(name, cost, el) {
    if (selected.has(name)) { selected.delete(name); el.classList.remove('selected'); }
    else if (selected.size < 8) { selected.add(name); el.classList.add('selected'); }
    updateFooter();
  }

  function updateFooter() {
    count.textContent = selected.size;
    dl.innerHTML = [...selected].map(c => `<li>${c} (${allCards[c]} Elixir)</li>`).join('');
    const avg = selected.size ? ([...selected].reduce((a,c)=>a+allCards[c],0) / selected.size).toFixed(2) : 0;
    let rating = 'N/A';
    if (selected.size) {
      rating = avg < 3.5 ? '7/10 (Fast)' : avg <= 5.5 ? '9/10 (Balanced)' : '5/10 (Heavy)';
    }
    footer.textContent = `Avg Elixir: ${avg} | Rating: ${rating}`;
  }

  searchInput.addEventListener('input', refreshGrid);
  refreshGrid();
</script>
</body>
</html>
