<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF‑8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Clash Royale Deck Builder</title>
  <style>
    /* Stay consistent with your MR GAMES look—gradient, glowing text, frosty containers */
    body, html { margin:0; padding:0; font-family:'Segoe UI', sans-serif;
      background:linear-gradient(to right,#0f2027,#203a43,#2c5364);
      color:#fff; text-align:center; padding:30px; }
    .container { background:rgba(0,0,0,0.6); border-radius:12px;
      max-width:900px; margin:auto; padding:25px; }
    h1 { color:#f0db4f; text-shadow:0 0 10px #f0db4f; margin-bottom:10px; }
    input, select { padding:8px; font-size:1rem; margin:10px; border-radius:6px;
      border:2px solid #00ffff; background:rgba(0,0,0,0.8); color:#00ffff; }
    #card-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(100px,1fr)); gap:10px; }
    .card { background:rgba(0,0,0,0.5); padding:5px; border-radius:8px; cursor:pointer;
      transition:transform .2s, box-shadow .2s; }
    .card:hover { transform:scale(1.05); box-shadow:0 0 8px #00ffff; }
    .card.selected { border:2px solid #00ffff; }
    .info { font-size:.85rem; color:#00ffff; margin-top:4px; }
    #deck-footer { margin-top:15px; font-size:1.1rem; color:#00ffea; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Clash Royale Deck Builder</h1>
    <select id="arena-select">…All Arenas 0–23…</select>
    <input type="text" id="search" placeholder="Search cards…" />
    <div id="card-grid"></div>
    <div>Deck: <span id="count">0</span>/8</div>
    <ul id="deck-list"></ul>
    <div id="deck-footer">Avg Elixir: 0 | Rating: N/A</div>
  </div>

  <script>
    // 1. Load full card list (including evolutions) — example from Fandom category
    const cards = [
      { name: "Knight", cost: 4 },
      { name: "Knight Evolution", cost: 4 },
      // add all cards here
    ];

    const selected = new Set();

    function updateGrid() {
      const term = document.getElementById('search').value.toLowerCase();
      const grid = document.getElementById('card-grid');
      grid.innerHTML = '';

      cards.forEach(card => {
        if (!card.name.toLowerCase().includes(term)) return;

        const div = document.createElement('div');
        div.className = 'card'+(selected.has(card.name)?' selected':'');

        const imageName = card.name.replace(/ /g,'') + 'Card' + (card.name.includes('Evolution') ? 'Evolution' : '') + '.png';
        const imgUrl = `https://static.wikia.nocookie.net/clashroyale/images/${imageName}`;
        div.innerHTML = `
          <img src="${imgUrl}" alt="${card.name}" onerror="this.style.opacity=0.5"/>
          <div class="info">${card.name} (${card.cost} Elixir)</div>
        `;
        div.onclick = () => toggleCard(card.name, div, card.cost);
        grid.append(div);
      });

      refreshDeckInfo();
    }

    function toggleCard(name, el, cost) {
      if (selected.has(name)) selected.delete(name);
      else if (selected.size < 8) selected.add(name);
      el.classList.toggle('selected');
      refreshDeckInfo();
    }

    function refreshDeckInfo() {
      const deckList = document.getElementById('deck-list');
      deckList.innerHTML = '';
      let total = 0;
      selected.forEach(name => {
        const card = cards.find(c => c.name === name);
        total += card.cost;
        deckList.innerHTML += `<li>${card.name} (${card.cost})</li>`;
      });
      const avg = selected.size ? (total / selected.size).toFixed(2) : 0;

      let rating = 'N/A';
      if (selected.size) {
        rating = avg < 3.5 ? '7/10 (Fast)' : avg <= 5.5 ? '9/10 (Balanced)' : '5/10 (Heavy)';
      }

      document.getElementById('count').textContent = selected.size;
      document.getElementById('deck-footer').textContent =
        `Avg Elixir: ${avg} | Rating: ${rating}`;
    }

    document.getElementById('search').addEventListener('input', updateGrid);

    // Initialize
    updateGrid();
  </script>
</body>
</html>
